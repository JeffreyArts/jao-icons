import { jaoIconJSON, jaoIconSize, jaoIconSource } from "jao-icons"
import jsonToSvg from "./json-to-svg"

// Small
import smallCircle from "../icons/small/circle.json"
import smallCross from "../icons/small/cross.json"
import smallEmpty from "../icons/small/empty.json"
import smallExpand from "../icons/small/expand.json"
import smallFullscreen from "../icons/small/fullscreen.json"
import smallGraph from "../icons/small/graph.json"
import smallHeart from "../icons/small/heart.json"
import smallHeartOutline from "../icons/small/heart-outline.json"
import smallNumbers0 from "../icons/small/characters/0.json"
import smallNumbers1 from "../icons/small/characters/1.json"
import smallNumbers2 from "../icons/small/characters/2.json"
import smallNumbers3 from "../icons/small/characters/3.json"
import smallNumbers4 from "../icons/small/characters/4.json"
import smallNumbers5 from "../icons/small/characters/5.json"
import smallNumbers6 from "../icons/small/characters/6.json"
import smallNumbers7 from "../icons/small/characters/7.json"
import smallNumbers8 from "../icons/small/characters/8.json"
import smallNumbers9 from "../icons/small/characters/9.json"
import smallCharComma from "../icons/small/characters/comma.json"
import smallCharDash from "../icons/small/characters/dash.json"
import smallCharDot from "../icons/small/characters/dot.json"
import smallCharExclamation from "../icons/small/characters/exclamation.json"
import smallCharSpace from "../icons/small/characters/space.json"
import smallCharA from "../icons/small/characters/a.json"
import smallCharB from "../icons/small/characters/b.json"
import smallCharC from "../icons/small/characters/c.json"
import smallCharD from "../icons/small/characters/d.json"
import smallChare from "../icons/small/characters/e.json"
import smallCharF from "../icons/small/characters/f.json"
import smallCharG from "../icons/small/characters/g.json"
import smallCharH from "../icons/small/characters/h.json"
import smallCharI from "../icons/small/characters/i.json"
import smallCharJ from "../icons/small/characters/j.json"
import smallCharK from "../icons/small/characters/k.json"
import smallCharL from "../icons/small/characters/l.json"
import smallCharM from "../icons/small/characters/m.json"
import smallCharN from "../icons/small/characters/n.json"
import smallCharO from "../icons/small/characters/o.json"
import smallCharP from "../icons/small/characters/p.json"
import smallCharQ from "../icons/small/characters/q.json"
import smallCharR from "../icons/small/characters/r.json"
import smallCharS from "../icons/small/characters/s.json"
import smallCharT from "../icons/small/characters/t.json"
import smallCharU from "../icons/small/characters/u.json"
import smallCharV from "../icons/small/characters/v.json"
import smallCharW from "../icons/small/characters/w.json"
import smallCharX from "../icons/small/characters/x.json"
import smallCharY from "../icons/small/characters/y.json"
import smallCharZ from "../icons/small/characters/z.json"
import smallPlay from "../icons/small/play.json"
import smallSquare from "../icons/small/square.json"

// Medium
import mediumCheckbox from "../icons/medium/checkbox-empty.json"
import mediumCheckboxChecked from "../icons/medium/checkbox-check.json"
import mediumCheckboxCross from "../icons/medium/checkbox-cross.json"
import mediumChristmasTree from "../icons/medium/christmas-tree.json"
import mediumCircle from "../icons/medium/circle.json"
import mediumComment from "../icons/medium/comment.json"
import mediumCross from "../icons/medium/cross.json"
import mediumEmpty from "../icons/medium/empty.json"
import mediumEuro from "../icons/medium/euro.json"
import mediumExpand from "../icons/medium/expand.json"
import mediumExternalLink from "../icons/medium/external-link.json"
import mediumExpandWithBorder from "../icons/medium/expand-w-border.json"
import mediumEye from "../icons/medium/eye.json"
import mediumFullscreen from "../icons/medium/fullscreen.json"
import mediumGraph from "../icons/medium/graph.json"
import mediumHeart from "../icons/medium/heart.json"
import mediumHeartOutline from "../icons/medium/heart-outline.json"
import mediumLogo from "../icons/medium/logo.json"
import mediumMove from "../icons/medium/move.json"
import mediumNumber0 from "../icons/medium/characters/0.json"
import mediumNumber1 from "../icons/medium/characters/1.json"
import mediumNumber2 from "../icons/medium/characters/2.json"
import mediumNumber3 from "../icons/medium/characters/3.json"
import mediumNumber4 from "../icons/medium/characters/4.json"
import mediumNumber5 from "../icons/medium/characters/5.json"
import mediumNumber6 from "../icons/medium/characters/6.json"
import mediumNumber7 from "../icons/medium/characters/7.json"
import mediumNumber8 from "../icons/medium/characters/8.json"
import mediumNumber9 from "../icons/medium/characters/9.json"
import mediumCharComma from "../icons/medium/characters/comma.json"
import mediumCharDash from "../icons/medium/characters/dash.json"
import mediumCharDot from "../icons/medium/characters/dot.json"
import mediumCharExclamation from "../icons/medium/characters/exclamation.json"
import mediumCharSpace from "../icons/medium/characters/space.json"
import mediumCharA from "../icons/medium/characters/a.json"
import mediumCharB from "../icons/medium/characters/b.json"
import mediumCharC from "../icons/medium/characters/c.json"
import mediumCharD from "../icons/medium/characters/d.json"
import mediumChare from "../icons/medium/characters/e.json"
import mediumCharF from "../icons/medium/characters/f.json"
import mediumCharG from "../icons/medium/characters/g.json"
import mediumCharH from "../icons/medium/characters/h.json"
import mediumCharI from "../icons/medium/characters/i.json"
import mediumCharJ from "../icons/medium/characters/j.json"
import mediumCharK from "../icons/medium/characters/k.json"
import mediumCharL from "../icons/medium/characters/l.json"
import mediumCharM from "../icons/medium/characters/m.json"
import mediumCharN from "../icons/medium/characters/n.json"
import mediumCharO from "../icons/medium/characters/o.json"
import mediumCharP from "../icons/medium/characters/p.json"
import mediumCharQ from "../icons/medium/characters/q.json"
import mediumCharR from "../icons/medium/characters/r.json"
import mediumCharS from "../icons/medium/characters/s.json"
import mediumCharT from "../icons/medium/characters/t.json"
import mediumCharU from "../icons/medium/characters/u.json"
import mediumCharV from "../icons/medium/characters/v.json"
import mediumCharW from "../icons/medium/characters/w.json"
import mediumCharX from "../icons/medium/characters/x.json"
import mediumCharY from "../icons/medium/characters/y.json"
import mediumCharZ from "../icons/medium/characters/z.json"
import mediumOff from "../icons/medium/off.json"
import mediumOn from "../icons/medium/on.json"
import mediumPlay from "../icons/medium/play.json"
import mediumPlus from "../icons/medium/plus.json"
import mediumQuestion from "../icons/medium/question.json"
import mediumSmiley from "../icons/medium/smiley.json"
import mediumTerminal from "../icons/medium/terminal.json"
import mediumUser from "../icons/medium/user.json"


// Large
import largeArchive from "../icons/large/archive.json"
import largeCircle from "../icons/large/circle.json"
import largecross from "../icons/large/cross.json"
import largeEmpty from "../icons/large/empty.json"
import largeEuro from "../icons/large/euro.json"
import largeGraph from "../icons/large/graph.json"
import largeHamburger from "../icons/large/hamburger.json"
import largeHammer from "../icons/large/hammer.json"
import largeImage from "../icons/large/image.json"
import largeIsoCube from "../icons/large/iso-cube.json"
import largeLeave from "../icons/large/leave.json"
import largeMove from "../icons/large/move.json"
import largeNumber0 from "../icons/large/characters/0.json"
import largeNumber1 from "../icons/large/characters/1.json"
import largeNumber2 from "../icons/large/characters/2.json"
import largeNumber3 from "../icons/large/characters/3.json"
import largeNumber4 from "../icons/large/characters/4.json"
import largeNumber5 from "../icons/large/characters/5.json"
import largeNumber6 from "../icons/large/characters/6.json"
import largeNumber7 from "../icons/large/characters/7.json"
import largeNumber8 from "../icons/large/characters/8.json"
import largeNumber9 from "../icons/large/characters/9.json"
import largeQuestion from "../icons/large/question.json"
import largeSpeechBubble from "../icons/large/speech-bubble.json"
import largeThoughts from "../icons/large/thoughts.json"
import largeUser from "../icons/large/user.json"
import largeWrench from "../icons/large/wrench.json"

export const iconsMap = {
    small: {
        "circle": smallCircle,
        "cross": smallCross,
        "empty": smallEmpty,
        "expand": smallExpand,
        "fullscreen": smallFullscreen,
        "graph": smallGraph,
        "heart-outline": smallHeartOutline,
        "heart": smallHeart,
        "char0": smallNumbers0,
        "char1": smallNumbers1,
        "char2": smallNumbers2,
        "char3": smallNumbers3,
        "char4": smallNumbers4,
        "char5": smallNumbers5,
        "char6": smallNumbers6,
        "char7": smallNumbers7,
        "char8": smallNumbers8,
        "char9": smallNumbers9,
        "char_comma": smallCharComma,
        "char_dash": smallCharDash,
        "char_dot": smallCharDot,
        "char_space": smallCharSpace,
        "char_exclamation": smallCharExclamation,
        "chara": smallCharA,
        "charb": smallCharB,
        "charc": smallCharC,
        "chard": smallCharD,
        "chare": smallChare,
        "charf": smallCharF,
        "charg": smallCharG,
        "charh": smallCharH,
        "chari": smallCharI,
        "charj": smallCharJ,
        "chark": smallCharK,
        "charl": smallCharL,
        "charm": smallCharM,
        "charn": smallCharN,
        "charo": smallCharO,
        "charp": smallCharP,
        "charq": smallCharQ,
        "charr": smallCharR,
        "chars": smallCharS,
        "chart": smallCharT,
        "charu": smallCharU,
        "charv": smallCharV,
        "charw": smallCharW,
        "charx": smallCharX,
        "chary": smallCharY,
        "charz": smallCharZ,
        "play": smallPlay,
        "square": smallSquare,
    },
    medium: {
        "checkbox-checked": mediumCheckboxChecked,
        "checkbox-cross": mediumCheckboxCross,
        "checkbox": mediumCheckbox,
        "christmas-tree": mediumChristmasTree,
        "circle": mediumCircle,
        "comment": mediumComment,
        "cross": mediumCross,
        "empty": mediumEmpty,
        "euro": mediumEuro,
        "expand-with-border": mediumExpandWithBorder,
        "expand": mediumExpand,
        "external-link": mediumExternalLink,
        "eye": mediumEye,
        "fullscreen": mediumFullscreen,
        "graph": mediumGraph,
        "heart-outline": mediumHeartOutline,
        "heart": mediumHeart,
        "logo": mediumLogo,
        "move": mediumMove,
        "char0": mediumNumber0,
        "char1": mediumNumber1,
        "char2": mediumNumber2,
        "char3": mediumNumber3,
        "char4": mediumNumber4,
        "char5": mediumNumber5,
        "char6": mediumNumber6,
        "char7": mediumNumber7,
        "char8": mediumNumber8,
        "char9": mediumNumber9,
        "char_comma": mediumCharComma,
        "char_dash": mediumCharDash,
        "char_dot": mediumCharDot,
        "char_space": mediumCharSpace,
        "char_exclamation": mediumCharExclamation,
        "chara": mediumCharA,
        "charb": mediumCharB,
        "charc": mediumCharC,
        "chard": mediumCharD,
        "chare": mediumChare,
        "charf": mediumCharF,
        "charg": mediumCharG,
        "charh": mediumCharH,
        "chari": mediumCharI,
        "charj": mediumCharJ,
        "chark": mediumCharK,
        "charl": mediumCharL,
        "charm": mediumCharM,
        "charn": mediumCharN,
        "charo": mediumCharO,
        "charp": mediumCharP,
        "charq": mediumCharQ,
        "charr": mediumCharR,
        "chars": mediumCharS,
        "chart": mediumCharT,
        "charu": mediumCharU,
        "charv": mediumCharV,
        "charw": mediumCharW,
        "charx": mediumCharX,
        "chary": mediumCharY,
        "charz": mediumCharZ,
        "off": mediumOff,
        "on": mediumOn,
        "play": mediumPlay,
        "plus": mediumPlus,
        "question": mediumQuestion,
        "smiley": mediumSmiley,
        "terminal": mediumTerminal,
        "user": mediumUser,
    },
    large: { 
        "archive": largeArchive,
        "circle": largeCircle,
        "cross": largecross,
        "empty": largeEmpty,
        "euro": largeEuro,
        "graph": largeGraph,
        "hamburger": largeHamburger,
        "hammer": largeHammer,
        "image": largeImage,
        "iso-cube": largeIsoCube,
        "leave": largeLeave,
        "move": largeMove,
        "char0": largeNumber0,
        "char1": largeNumber1,
        "char2": largeNumber2,
        "char3": largeNumber3,
        "char4": largeNumber4,
        "char5": largeNumber5,
        "char6": largeNumber6,
        "char7": largeNumber7,
        "char8": largeNumber8,
        "char9": largeNumber9,
        "question": largeQuestion,
        "speech-bubble": largeSpeechBubble,
        "thoughts": largeThoughts,
        "user": largeUser,
        "wrench": largeWrench,
    }
} as {
    small: {[key:string] : jaoIconJSON},
    medium: {[key:string] : jaoIconJSON},
    large: {[key:string] : jaoIconJSON},
}


const Icon = (source: jaoIconSource, size?: jaoIconSize) : SVGElement | undefined => {
    if (typeof source === "string") {
        const size = source.split("/")[0] as jaoIconSize
        const name = source.split("/")[1] as string
        if (size && name) {
            const icon = iconsMap[size][name]

            if (!icon) {
                throw new Error(`Icon ${source} does not exist`)
            }
            
            return jsonToSvg(icon, {
                pixelSize: 8,
                pixelPadding: 2
            })
        }
    }
    const chars = source.toString().split("").map(c => {
        if (!size) {
            size = "medium"
        }
        let char = c.toLowerCase()
        if (c == ",") { char = "_comma" }
        if (c == "-") { char = "_dash" }
        if (c == ".") { char = "_dot" }
        if (c == "!") { char = "_exclamation" }
        if (c == " ") { char = "_space" }
        
        const newChar = iconsMap[size][`char${char}`]
        if (newChar) {
            return newChar
        }
    }) 

    if (chars.length != source.toString().length) {
        console.warn("JAO Icons: some characters got lost in translation")
    }

    const result = [] as jaoIconJSON
        
    chars.forEach((char, charIndex) => {
        if (!chars[charIndex]) {
            return
        }
        chars[charIndex].forEach((row, rowIndex) => {
            if (!result[rowIndex]) {
                result.push([0])
            }
            result[rowIndex] = result[rowIndex].concat(row, [0])
        })
    })

    return jsonToSvg(result, {
        pixelSize: 8,
        pixelPadding: 2
    })
    
}


export { Icon }
export default Icon